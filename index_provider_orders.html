<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Сервис СОФТ</title>
    <link rel="stylesheet" href="style_provider.css">
</head>
<body>
<!-- Модальное окно: Создание заявки -->
<div class="modal" id="createTicketModal" style="display: none;">
  <div class="modal__overlay" id="ticketModalOverlay"></div>
  <div class="modal__content">
    <div class="modal__header">
      <h3>Создание новой заявки</h3>
      <button class="modal__close" id="closeTicketModalBtn">&times;</button>
    </div>
    <form id="createTicketForm" class="modal__form">
      <!-- Клиент — кнопка выбора -->
      <div class="form-group">
        <label>Клиент *</label>
        <div class="select-from-table">
          <input type="text" id="selectedClient" name="client" placeholder="Выберите клиента" readonly required />
          <button type="button" style="padding-block: 11px;" class="btn btn--outline btn--small" id="openClientSelector">Выбрать из списка</button>
        </div>
      </div>

      <!-- Мастер — кнопка выбора -->
      <div class="form-group">
        <label>Мастер</label>
        <div class="select-from-table">
          <input type="text" id="selectedMaster" name="master" placeholder="Выберите мастера" readonly />
          <button type="button" style="padding-block: 11px;" class="btn btn--outline btn--small" id="openMasterSelector">Выбрать из списка</button>
        </div>
      </div>

      <!-- Остальные поля (без изменений) -->
      <div class="form-group">
        <label>Статус заказа</label>
        <select name="status">
          <option value="Новая">Новая</option>
          <option value="В ремонте">В ремонте</option>
          <option value="Ожидают з/ч">Ожидают з/ч</option>
          <option value="На согласовании">На согласовании</option>
          <option value="Готово">Готово</option>
        </select>
      </div>
      <div class="form-group">
        <label>Дата приема</label>
        <input type="date" name="date_received" />
      </div>
      <div class="form-group">
        <label>Тип устройства *</label>
        <input type="text" name="device_type" placeholder="Например: Телефон, Ноутбук" required />
      </div>
      <div class="form-group">
        <label>Производитель *</label>
        <input type="text" name="manufacturer" required />
      </div>
      <div class="form-group">
        <label>Модель *</label>
        <input type="text" name="model" required />
      </div>
      <div class="form-group">
        <label>Серийный номер</label>
        <input type="text" name="serial_number" />
      </div>
      <div class="form-group">
        <label>Неисправность со слов клиента *</label>
        <textarea name="client_issue" rows="3" required></textarea>
      </div>
      <div class="form-group">
        <label>Выявленная неисправность</label>
        <textarea name="diagnosed_issue" rows="3"></textarea>
      </div>
      <div class="form-group">
        <label>Тип ремонта</label>
        <select name="repair_type">
          <option value="Гарантийный">Гарантийный</option>
          <option value="Платный">Платный</option>
        </select>
      </div>
      <div class="form-group">
        <label>Доп. информация</label>
        <textarea name="additional_info" rows="2"></textarea>
      </div>

      <!-- Кнопки -->
      <div class="modal__actions">
        <button type="button" class="btn btn--outline" id="cancelTicketBtn">Отмена</button>
        <button type="submit" class="btn btn--primary">Создать заявку</button>
      </div>
    </form>
  </div>
</div>

<!-- Модальное окно: Выбор клиента -->
<div class="modal" id="selectClientModal" style="display: none;">
  <div class="modal__overlay" id="clientModalOverlay"></div>
  <div class="modal__content">
    <div class="modal__header">
      <h3>Выберите клиента</h3>
      <button class="modal__close" id="closeClientModalBtn">&times;</button>
    </div>
    <div class="table-container" style="max-height: 60vh; overflow: auto;">
      <table class="assign-tickets-table">
        <thead>
          <tr>
            <th>Клиент</th>
            <th>Телефон</th>
            <th>Адрес</th>
            <th>Действие</th>
          </tr>
        </thead>
        <tbody>
          <tr data-client-id="1" data-client-name="Иванов И.И.">
            <td>Иванов И.И.</td>
            <td>+7 XXX XXX-XX-XX</td>
            <td>n/a</td>
            <td><button class="btn btn--primary btn--small select-client-btn">Выбрать</button></td>
          </tr>
          <tr data-client-id="2" data-client-name="Петров П.П.">
            <td>Петров П.П.</td>
            <td>111-22-2333</td>
            <td>г.Москва</td>
            <td><button class="btn btn--primary btn--small select-client-btn">Выбрать</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Модальное окно: Выбор мастера -->
<div class="modal" id="selectMasterModal" style="display: none;">
  <div class="modal__overlay" id="masterModalOverlay"></div>
  <div class="modal__content">
    <div class="modal__header">
      <h3>Выберите мастера</h3>
      <button class="modal__close" id="closeMasterModalBtn">&times;</button>
    </div>
    <div class="table-container" style="max-height: 60vh; overflow: auto;">
      <table class="assign-tickets-table">
        <thead>
          <tr>
            <th>Имя</th>
            <th>Специализация</th>
            <th>Телефон</th>
            <th>Статус</th>
            <th>Активные заявки</th>
            <th>Действие</th>
          </tr>
        </thead>
        <tbody>
          <!-- Пример строки мастера -->
          <tr data-master-id="1" data-master-name="Алексей Петров">
            <td>Алексей Петров</td>
            <td>Телефоны</td>
            <td>+7 (999) 123-45-67</td>
            <td>Свободен</td>
            <td>0</td>
            <td><button class="btn btn--primary btn--small select-master-btn">Выбрать</button></td>
          </tr>
          <!-- Добавьте другие строки по мере необходимости -->
        </tbody>
      </table>
    </div>
  </div>
</div>


  <div class="layout">
    <!-- Сайдбар -->
    <aside class="sidebar">
      <div class="sidebar__header">Сервис СОФТ</div>
      <nav class="sidebar__nav">
        <div class="sidebar__nav-item">
          <span class="sidebar__nav-text"><a style='text-decoration: none;' href="./index_provider.html">Клиенты</a></span>
        </div>
        <div class="sidebar__nav-item sidebar__nav-item--active">
          <span class="sidebar__nav-text">Заявки</span>
        </div>
        <div class="sidebar__nav-item">
          <span class="sidebar__nav-text"><a style='text-decoration: none;' href="./index_provider_masters.html">Мастера</a></span>
        </div>
      </nav>
    </aside>

    <!-- Основное содержимое -->
    <main class="main-content">
      <!-- Шапка -->
      <header class="header">
        <div class="header__menu">
            <button class="header__menu-toggle"><img src="images/burger-button.svg" alt="" class="align-left"></button>
            <div class="header__welcome">Добро пожаловать! <span>Приемщик</span></div>
        </div>
        <div class="header__user">
          <div class="header__notifications">
            <img src="images/notification.svg" alt="" class="header__notification-icon">
          </div>
            <div class="header__user-main" id="userDropdownToggle">
                <div class="header__avatar">
                <img src="images/Profile.svg" alt="Профиль" class="header__avatar-icon">
                </div>
                <div class="header__username">Приемщик</div>
                <span class="header__dropdown-icon">
                <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 1L5 5L9 1" stroke="#0C0407" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                </span>
                <!-- Выпадающее меню -->
                <div class="header__user-dropdown" id="userDropdown">
                    <a href="#" class="header__dropdown-item">Настройки</a>
                    <a href="#" class="header__dropdown-item header__dropdown-item--danger">Выход</a>
                </div>
            </div>
        </div>
      </header>

      <!-- Основной контент страницы -->
      <div class="page-content">
        <h1 class="page-content__title">Заявки</h1>

        <div class="page-content__body">
            <!-- Фильтры -->
            <div class="filters">
                <div class="filters__search">
                    <img src="images/search-normal.png" alt="" class="filters__search-icon">
                    <input type="text" class="filters__search-input" placeholder="Search for ticket" />
                </div>

                <!-- <div class="filters__priority">
                    <button class="filters__priority-btn">
                    Выбрать заявки
                        <span>                    
                            <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 1L5 5L9 1" stroke="#0C0407" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                    </button>
                    <div class="filters__priority-dropdown">
                    <div class="filters__priority-option" data-priority="all">
                        Все заявки
                    </div>
                    <div class="filters__priority-option" data-priority="new">
                        Новые заявки
                    </div>
                    <div class="filters__priority-option" data-priority="ongoing">
                        Заявки в обработке
                    </div>
                    <div class="filters__priority-option" data-priority="resolved">
                        Выполненные заявки
                    </div>
                    </div>
                </div> -->

                <div class="filters__time">
                    Статус заказа
                    <span>                    
                        <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 1L5 5L9 1" stroke="#0C0407" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                </div>

                <div class="filters__time">
                    На этой неделе
                    <span>                    
                        <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 1L5 5L9 1" stroke="#0C0407" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                </div>

                <button class="filters__new-ticket">
                    Новая заявка
                </button>
            </div>

            <!-- Вкладки -->
            <div class="tabs">
            <div class="tabs__item tabs__item--active" data-tab="all">
                Все заявки
            </div>
            <div class="tabs__item" data-tab="new">
                Новые
            </div>
            <div class="tabs__item" data-tab="ongoing">
                В процессе выполнения
            </div>
            <div class="tabs__item" data-tab="resolved">
                Завершенные
            </div>
            </div>

            <!-- Таблица -->
            <div class="ticket-list">
                <div class="table-container">
                    <table class="clients-table">
                    <thead>
                        <tr>
                        <!-- Основные данные заказа -->
                        <th>Статус заказа</th>
                        <th>Дата приема</th>
                        <th>№ заказа</th>
                        <!-- Информация о клиенте -->
                        <th>Клиент</th>
                        <th>Моб.телефон</th>
                        <th>Телефон</th>
                        <th>Адрес</th>
                        <!-- Информация об устройстве -->
                        <th>Тип устройства</th>
                        <th>Производитель</th>
                        <th>Модель</th>
                        <th>Серийный номер</th>
                        <!-- Проблема и ремонт -->
                        <th>Неисправность со слов клиента</th>
                        <th>Выявленная неисправность</th>
                        <th>Тип ремонта</th>
                        <th>Доп.информация</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Пример строки (можно заменить на данные из API) -->
                        <tr>
                        <td data-field="status">Готово</td>
                        <td data-field="date_received">12.01.2025</td>
                        <td data-field="order_number">2</td>
                        <td data-field="client">Петров П.П.</td>
                        <td data-field="mobile">+7 XXX XXX-XX-XX</td>
                        <td data-field="phone">111-22-2333</td>
                        <td data-field="address">г.Москва</td>
                        <td data-field="device_type">Основное устройство</td>
                        <td data-field="manufacturer">Производитель 0003</td>
                        <td data-field="model">V 80</td>
                        <td data-field="serial_number">4600000000002</td>
                        <td data-field="client_issue">не заряжается, не включается</td>
                        <td data-field="diagnosed_issue">пайка BGA разъема322</td>
                        <td data-field="repair_type">Гарантийный</td>
                        <td data-field="additional_info">Инфо</td>
                        </tr>
                        <tr>
                        <td data-field="status">Ожидают з/ч</td>
                        <td data-field="date_received">12.01.2025</td>
                        <td data-field="order_number">3</td>
                        <td data-field="client">Петров П.П.</td>
                        <td data-field="mobile">-</td>
                        <td data-field="phone">111-22-2333</td>
                        <td data-field="address">г.Москва</td>
                        <td data-field="device_type">Основное устройство</td>
                        <td data-field="manufacturer">Производитель 0003</td>
                        <td data-field="model">C 350</td>
                        <td data-field="serial_number">234567</td>
                        <td data-field="client_issue">не включается, самовыключение</td>
                        <td data-field="diagnosed_issue">пайка BGA разъема322</td>
                        <td data-field="repair_type">Гарантийный</td>
                        <td data-field="additional_info">Инфо</td>
                        </tr>
                        <tr>
                        <td data-field="status">В ремонте</td>
                        <td data-field="date_received">12.01.2025</td>
                        <td data-field="order_number">4</td>
                        <td data-field="client">Иванов Иван Иванович</td>
                        <td data-field="mobile">+7 XXX XXX-XX-XX</td>
                        <td data-field="phone">(+) 1-11-111</td>
                        <td data-field="address">n/a</td>
                        <td data-field="device_type">Основное устройство</td>
                        <td data-field="manufacturer">Производитель 0001</td>
                        <td data-field="model">FP71G+</td>
                        <td data-field="serial_number">4600000000046</td>
                        <td data-field="client_issue">не работает громкая связь</td>
                        <td data-field="diagnosed_issue">пайка BGA разъема322</td>
                        <td data-field="repair_type">Платный</td>
                        <td data-field="additional_info">Инфо</td>
                        </tr>
                        <tr>
                        <td data-field="status">На согласовании</td>
                        <td data-field="date_received">12.01.2025</td>
                        <td data-field="order_number">5</td>
                        <td data-field="client">Иванов Иван Иванович</td>
                        <td data-field="mobile">+7 XXX XXX-XX-XX</td>
                        <td data-field="phone">(+) 1-11-111</td>
                        <td data-field="address">n/a</td>
                        <td data-field="device_type">Основное устройство</td>
                        <td data-field="manufacturer">Производитель 0003</td>
                        <td data-field="model">C 650</td>
                        <td data-field="serial_number">3456</td>
                        <td data-field="client_issue">не заряжается</td>
                        <td data-field="diagnosed_issue">пайка BGA разъема322</td>
                        <td data-field="repair_type">Платный</td>
                        <td data-field="additional_info">Инфо</td>
                        </tr>
                        <tr>
                        <td data-field="status">В ремонте</td>
                        <td data-field="date_received">12.01.2025</td>
                        <td data-field="order_number">6</td>
                        <td data-field="client">Сидоров</td>
                        <td data-field="mobile">+7 XXX XXX-XX-XX</td>
                        <td data-field="phone">(+) 1-11-111</td>
                        <td data-field="address">n/a</td>
                        <td data-field="device_type">Основное устройство</td>
                        <td data-field="manufacturer">Производитель 0001</td>
                        <td data-field="model">FP71G+</td>
                        <td data-field="serial_number">4600000000107</td>
                        <td data-field="client_issue">не работает громкая связь</td>
                        <td data-field="diagnosed_issue">пайка BGA разъема322</td>
                        <td data-field="repair_type">Платный</td>
                        <td data-field="additional_info">Инфо</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
                </div>


        </div>

      </div>
    </main>
  </div>
  <script src="script_provider.js"></script>

</body>
</html>